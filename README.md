# 🌙 Tarot Mystique API\n\n**Ancient Wisdom Through Modern Technology**\n\n[![NestJS](https://img.shields.io/badge/NestJS-E0234E?style=for-the-badge&logo=nestjs&logoColor=white)](https://nestjs.com/)\n[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)\n[![Prisma](https://img.shields.io/badge/Prisma-2D3748?style=for-the-badge&logo=prisma&logoColor=white)](https://www.prisma.io/)\n[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)\n\n## ✨ 프로젝트 소개\n\n타로 미스틱 API는 신비로운 타로카드 지혜를 제공하는 RESTful API 서버입니다. 메이저 아르카나 카드 데이터, 카드 리딩 기능, 그리고 사용자 리딩 이력 관리를 제공합니다.\n\n### 🔮 주요 기능\n\n- **메이저 아르카나 API** - 22장의 완전한 메이저 아르카나 카드 데이터\n- **카드 리딩 서비스** - 다양한 스프레드 타입 지원 (원카드, 쓰리카드, 켈틱크로스)\n- **리딩 해석 AI** - 상황별 맞춤 카드 해석 제공\n- **리딩 이력 관리** - 사용자별 리딩 기록 저장 및 조회\n- **이미지 관리** - 타로카드 이미지 업로드 및 서빙\n- **실시간 알림** - WebSocket을 통한 실시간 카드 드로우 경험\n\n## 🎨 아키텍처 철학\n\n> *\"코드도 마법처럼 아름다워야 한다\"*\n\n- **도메인 주도 설계** - 타로의 신비로운 도메인을 코드로 완벽 표현\n- **헥사고널 아키텍처** - 깔끔한 의존성 분리로 마법 같은 확장성\n- **이벤트 소싱** - 모든 리딩을 우주의 기록으로 보존\n- **CQRS 패턴** - 읽기와 쓰기의 완벽한 분리\n\n## 🔥 기술 스택\n\n### Core\n- **NestJS** - 엔터프라이즈급 Node.js 프레임워크\n- **TypeScript** - 타입 안전성으로 버그를 미연에 방지\n- **Prisma ORM** - 타입 안전한 데이터베이스 액세스\n- **PostgreSQL** - 강력한 관계형 데이터베이스\n\n### Authentication & Security\n- **JWT** - JSON Web Token 기반 인증\n- **Passport** - 다양한 인증 전략 지원\n- **Helmet** - 보안 헤더 설정\n- **Rate Limiting** - API 요청 제한\n\n### Real-time & Caching\n- **WebSocket** - 실시간 카드 드로우 경험\n- **Redis** - 고성능 캐싱 및 세션 관리\n- **Bull Queue** - 비동기 작업 처리\n\n### DevOps & Monitoring\n- **Docker** - 컨테이너화된 배포\n- **Swagger** - API 문서 자동 생성\n- **Winston** - 구조화된 로깅\n- **Prometheus** - 메트릭 수집\n\n## 🚀 시작하기\n\n### 사전 요구사항\n- Node.js 18+\n- PostgreSQL 13+\n- Redis 6+\n- Docker (선택사항)\n\n### 환경 설정\n\n```bash\n# 저장소 클론\ngit clone https://github.com/mcp-space/tarot_mystique_api.git\ncd tarot_mystique_api\n\n# 의존성 설치\nnpm install\n\n# 환경 변수 설정\ncp .env.example .env\n# .env 파일을 편집하여 데이터베이스 및 기타 설정 입력\n\n# 데이터베이스 마이그레이션\nnpx prisma migrate dev\n\n# 시드 데이터 생성 (메이저 아르카나 카드)\nnpx prisma db seed\n\n# 개발 서버 시작\nnpm run start:dev\n```\n\n### Docker로 실행\n\n```bash\n# Docker Compose로 전체 스택 실행 (PostgreSQL, Redis 포함)\ndocker-compose up -d\n\n# 애플리케이션만 실행\ndocker run -p 3000:3000 tarot-mystique-api\n```\n\n## 📡 API 엔드포인트\n\n### 타로카드 관리\n```\nGET    /api/cards              # 모든 메이저 아르카나 카드 조회\nGET    /api/cards/:id          # 특정 카드 상세 조회\nGET    /api/cards/random       # 랜덤 카드 뽑기\nPOST   /api/cards/random/:count # 여러 카드 뽑기\n```\n\n### 리딩 서비스\n```\nPOST   /api/readings           # 새로운 리딩 생성\nGET    /api/readings/:id       # 리딩 결과 조회\nGET    /api/readings/user/:userId # 사용자 리딩 이력\nPOST   /api/readings/interpret  # 카드 해석 요청\n```\n\n### 실시간 기능\n```\nWS     /socket/readings        # 실시간 카드 드로우\n```\n\n## 📁 프로젝트 구조\n\n```\nsrc/\n├── modules/                # 기능별 모듈\n│   ├── cards/             # 타로카드 모듈\n│   ├── readings/          # 리딩 모듈\n│   ├── users/             # 사용자 모듈\n│   └── interpretations/   # 해석 모듈\n├── common/                # 공통 기능\n│   ├── decorators/        # 커스텀 데코레이터\n│   ├── filters/           # 예외 필터\n│   ├── guards/            # 가드\n│   ├── interceptors/      # 인터셉터\n│   └── pipes/             # 파이프\n├── config/                # 설정 파일\n├── database/              # 데이터베이스 관련\n│   ├── migrations/        # 마이그레이션\n│   └── seeds/             # 시드 데이터\n└── shared/                # 공유 타입 및 유틸\n```\n\n## 🎯 개발 스크립트\n\n```bash\n# 개발 서버 (hot reload)\nnpm run start:dev\n\n# 프로덕션 빌드\nnpm run build\n\n# 프로덕션 서버 실행\nnpm run start:prod\n\n# 테스트 실행\nnpm run test\n\n# E2E 테스트\nnpm run test:e2e\n\n# 테스트 커버리지\nnpm run test:cov\n\n# 린팅\nnpm run lint\n\n# 데이터베이스 관리\nnpx prisma studio     # DB 관리 UI\nnpx prisma generate   # 클라이언트 생성\nnpx prisma migrate dev # 마이그레이션 실행\n```\n\n## 🔮 데이터베이스 스키마\n\n### 주요 엔티티\n\n- **Card** - 타로카드 정보 (이름, 이미지, 의미, 상징)\n- **Reading** - 카드 리딩 세션\n- **DrawnCard** - 뽑힌 카드와 위치 정보\n- **User** - 사용자 정보 (선택사항)\n- **Interpretation** - 카드 해석 결과\n\n## 🌟 커밋 컨벤션\n\n- `🔮 feat:` 새로운 마법적 기능 추가\n- `⚡ perf:` 성능 향상\n- `🐛 fix:` 버그 수정\n- `📚 docs:` 문서 업데이트\n- `🎨 style:` 코드 포맷팅\n- `♻️ refactor:` 리팩토링\n- `✅ test:` 테스트 추가/수정\n- `🔧 chore:` 기타 작업\n\n## 🔗 관련 링크\n\n- [Frontend Repository](https://github.com/mcp-space/tarot_mystique_web)\n- [API Documentation](http://localhost:3000/api/docs) *(개발 서버 실행 후)*\n- [Live API](https://api.tarot-mystique.com) *(배포 후 업데이트)*\n\n## 📜 라이선스\n\nMIT License - 자유롭게 사용하고 마법을 부려보세요.\n\n---\n\n*\"진정한 마법은 코드 안에 있다...\"* 🌙\n\n**Crafted with 🔮 by mcp-space**\n